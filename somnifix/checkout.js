
// For 4 week  pack "No returns required — test as much as you want"
// For 12, 52 week  pack "We offer hassle-free returns for unused strips"

let checkoutsInterval = setInterval(() => {
    if (window.location.href.includes('/checkouts/') && document.querySelector('.breadcrumb__item.breadcrumb__item--current') != null && document.querySelector('.breadcrumb__item.breadcrumb__item--current').innerText.includes('Information') && document.querySelector('.product__description__variant.order-summary__small-text') != null) {
        clearInterval(checkoutsInterval)

        let pack = document.querySelector('.product__description__variant.order-summary__small-text').innerText;

        document.head.insertAdjacentHTML('beforeend',`
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">
        `)
        document.body.insertAdjacentHTML('afterbegin', `
        <style>
            .money-back_block, .shipping_block {
                border-radius: 6px;
                background: #EFF3FF;
                padding: 12px;
                font-weight: 400;
                font-size: 12px;
                line-height: 15px;
                color: #1E415F;
                font-family: 'Roboto', sans-serif;
                margin-top: 12px;
            }
            .money-back_block svg, .shipping_block svg {
                margin-right: 10px;
            }
            .shipping_block {
                background: #EBFFF4;
                padding: 12px 20px;
            }
            .money-back_block p:first-child, .shipping_block p:first-child {
                margin-bottom: 2px;
            }
            .money-back_block p:first-child, .shipping_block p:last-child {
                font-family: 'Rubik', sans-serif;
                font-weight: 700;
                text-transform: uppercase;
                line-height: 19px;
            }
            .d-flex {
                display: flex;
            } 
            .items-center {
                align-items: center;
            } 
            .justify-between {
                justify-content: space-between;
            }
            @media screen and (min-width: 1000px) {
                .messages {
                    padding: 2px 0 14px;
                    margin-bottom: 28px;
                    border-bottom: 1px solid #E6E6E6;
                }
            }
            @media screen and (max-width: 1000px) {
                .messages {
                    flex-wrap: wrap;
                }
                .messages > div {
                    width: 100%;
                }
                .banner {
                    padding-bottom: 12px;
                }
            }
            @media screen and (max-width: 600px) {
                // .messages {
                //     padding: 12px 0 0 0;
                // }
            }
        </style>`)

        document.querySelector('.main__header .logo.logo--left').insertAdjacentHTML('afterend', `
            <div class="d-flex justify-between messages">
                <div class="d-flex items-center money-back_block">
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M30 14.9999C30 23.2711 23.2712 30 15 30C6.72882 30 0 23.2711 0 14.9999C0 14.4823 0.419505 14.0625 0.937415 14.0625C1.45533 14.0625 1.87483 14.4827 1.87483 14.9999C1.87483 22.2369 7.76267 28.125 14.9998 28.125C22.2367 28.125 28.1248 22.2371 28.1248 14.9999C28.1248 7.76296 22.2367 1.87484 14.9998 1.87484C11.5123 1.87484 8.27335 3.23079 5.83661 5.62495H9.37483C9.89276 5.62495 10.3122 6.04511 10.3122 6.56237C10.3122 7.07997 9.89274 7.49979 9.37483 7.49979H3.74992C3.23199 7.49979 2.8125 7.07963 2.8125 6.56237L2.81217 0.937421C2.81217 0.419818 3.23168 0 3.74959 0C4.2675 0 4.68701 0.420161 4.68701 0.937421V4.13523C7.45322 1.49524 11.0875 0 14.9995 0C23.2706 0 29.9995 6.72886 29.9995 15.0001L30 14.9999ZM15.9375 14.0625H14.0627C13.5451 14.0625 13.1252 13.642 13.1252 13.1251C13.1252 12.6081 13.5454 12.1877 14.0627 12.1877H17.8127C18.3307 12.1877 18.7502 11.7675 18.7502 11.2502C18.7502 10.7326 18.3307 10.3128 17.8127 10.3128H15.9379V9.37539C15.9379 8.85778 15.5184 8.43796 15.0005 8.43796C14.4826 8.43796 14.0631 8.85813 14.0631 9.37539V10.3128C12.5119 10.3128 11.2504 11.5743 11.2504 13.1255C11.2504 14.6767 12.5119 15.9382 14.0631 15.9382H15.9379C16.4555 15.9382 16.8753 16.3587 16.8753 16.8756C16.8753 17.3925 16.4552 17.813 15.9379 17.813H12.1878C11.6699 17.813 11.2504 18.2332 11.2504 18.7504C11.2504 19.268 11.6699 19.6879 12.1878 19.6879H14.0627V20.6253C14.0627 21.1429 14.4822 21.5627 15.0001 21.5627C15.518 21.5627 15.9375 21.1425 15.9375 20.6253V19.6879C17.4886 19.6879 18.7502 18.4264 18.7502 16.8752C18.7502 15.3239 17.4887 14.0625 15.9375 14.0625Z" fill="#1E415F"/>
                    </svg>
                    <div>
                        <p>30 days money-back guarantee</p>
                        <p>No returns required — test as much as you want</p>
                    </div>
                </div>
                <div class="d-flex items-center shipping_block">
                    <svg width="30" height="26" viewBox="0 0 30 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M28.6667 10.9573L27.3963 10.1877L25.8912 6.32207C25.7152 5.87772 25.3988 5.49478 24.9845 5.22452C24.57 4.95448 24.0776 4.80999 23.5732 4.81098H19.4642V1.9499C19.4636 1.43294 19.2448 0.937454 18.8559 0.572043C18.4673 0.206461 17.94 0.000758008 17.3903 0H2.57395C2.0242 0.000789541 1.49698 0.206476 1.10828 0.572043C0.719404 0.937428 0.500591 1.43289 0.5 1.9499V21.6318C0.50063 22.0489 0.677223 22.4487 0.990928 22.7436C1.30463 23.0385 1.73005 23.2045 2.17352 23.2053H4.18743C4.37179 24.2402 5.06873 25.1311 6.06486 25.6048C7.06098 26.0786 8.2375 26.0786 9.23362 25.6048C10.2297 25.1311 10.9267 24.2402 11.111 23.2053H19.3919C19.5467 24.2473 20.2295 25.154 21.2235 25.6374C22.2178 26.1209 23.3995 26.1209 24.3936 25.6374C25.3876 25.154 26.0704 24.2473 26.2252 23.2053H28.3323C28.775 23.2029 29.1987 23.0363 29.5112 22.7416C29.8236 22.4469 29.9994 22.0479 30 21.6318V13.2523C30.0017 12.3233 29.4988 11.4579 28.6666 10.9572L28.6667 10.9573ZM23.5732 6.2259C23.7698 6.22492 23.9619 6.28078 24.1236 6.38619C24.2851 6.4914 24.4083 6.64103 24.4763 6.81435L26.0747 10.9036C26.1318 11.0483 26.2376 11.1713 26.3758 11.2546L27.8599 12.1518V12.1516C28.2574 12.394 28.4966 12.8099 28.4948 13.2553V16.6965H19.4641V6.2259H23.5732ZM2.57357 1.41493H17.3899C17.7034 1.41651 17.9573 1.65516 17.9587 1.94988V16.6967H2.00442V1.94988C2.00589 1.65517 2.25976 1.41649 2.57325 1.41493H2.57357ZM7.65191 24.5807C7.11856 24.5807 6.60703 24.3815 6.22995 24.027C5.85286 23.6724 5.64096 23.1916 5.64096 22.6902C5.64096 22.189 5.85283 21.7081 6.22995 21.3536C6.60706 20.9991 7.11856 20.7999 7.65191 20.7999C8.18526 20.7999 8.69679 20.9991 9.07387 21.3536C9.45078 21.7081 9.66264 22.189 9.66264 22.6902C9.66201 23.1914 9.44973 23.6719 9.0728 24.0262C8.69589 24.3805 8.18499 24.5799 7.65186 24.5807L7.65191 24.5807ZM22.8053 24.5807C22.2881 24.5807 21.7919 24.3874 21.4261 24.0435C21.0601 23.6997 20.8548 23.2332 20.8548 22.7468C20.8548 22.2604 21.0601 21.7942 21.4261 21.4501C21.7919 21.1063 22.2881 20.913 22.8053 20.913C23.3226 20.913 23.8188 21.1063 24.1846 21.4501C24.5504 21.7942 24.756 22.2604 24.756 22.7468C24.7551 23.2324 24.5498 23.6981 24.1848 24.0418C23.8199 24.3854 23.325 24.5791 22.8084 24.5807H22.8053ZM28.3264 21.7904H26.1107C25.8186 20.8998 25.1334 20.17 24.2299 19.7867C23.3262 19.4033 22.2908 19.4033 21.3872 19.7867C20.4835 20.17 19.7985 20.8998 19.5063 21.7904H11.0356C10.7574 20.8605 10.0599 20.0918 9.12693 19.6872C8.19402 19.2825 7.1191 19.2825 6.18619 19.6872C5.25307 20.0918 4.5555 20.8605 4.27748 21.7904H2.17036C2.07839 21.7889 2.0049 21.7184 2.0049 21.6319V18.1115H28.495V21.6319C28.495 21.674 28.4774 21.7142 28.4457 21.7438C28.4142 21.7737 28.3714 21.7904 28.3266 21.7904L28.3264 21.7904Z" fill="#1E415F"/>
                        <path d="M6.1876 13.4564C6.51768 13.6927 6.98886 13.6333 7.24107 13.3234L13.6411 5.45929C13.8903 5.14662 13.8229 4.70326 13.4905 4.46873C13.1579 4.23422 12.6863 4.29759 12.4368 4.61026L6.04597 12.4521C5.9204 12.6019 5.86475 12.7932 5.89121 12.9825C5.91788 13.1716 6.02476 13.3426 6.18749 13.4567L6.1876 13.4564Z" fill="#1E415F"/>
                        <path d="M10.7383 11.3196V11.8857C10.7383 12.6945 11.1973 13.4418 11.9423 13.8463C12.6875 14.2507 13.6055 14.2507 14.3505 13.8463C15.0957 13.4418 15.5547 12.6945 15.5547 11.8857V11.3196C15.5547 10.5108 15.0957 9.76349 14.3505 9.35902C13.6055 8.95455 12.6875 8.95455 11.9423 9.35902C11.1973 9.76348 10.7383 10.5108 10.7383 11.3196ZM14.0497 11.3196V11.8857C14.0497 12.1889 13.8775 12.4692 13.598 12.6208C13.3187 12.7724 12.9743 12.7724 12.6949 12.6208C12.4156 12.4692 12.2434 12.1889 12.2434 11.8857V11.3196C12.2434 11.0164 12.4156 10.7361 12.6949 10.5845C12.9744 10.4329 13.3187 10.4329 13.598 10.5845C13.8775 10.7361 14.0497 11.0164 14.0497 11.3196Z" fill="#1E415F"/>
                        <path d="M6.51952 8.77252C7.15807 8.77252 7.77055 8.53406 8.22225 8.10946C8.67394 7.68487 8.92756 7.10905 8.92756 6.50855V5.94262C8.92756 5.13388 8.46854 4.38633 7.72357 3.98206C6.97859 3.57759 6.06051 3.57759 5.31532 3.98206C4.57034 4.38633 4.11133 5.13388 4.11133 5.94262V6.50855C4.11133 7.10905 4.36498 7.68483 4.81664 8.10946C5.26829 8.5341 5.88076 8.77252 6.51952 8.77252ZM5.6164 5.94262C5.6164 5.63922 5.78858 5.35911 6.06785 5.20731C6.34733 5.0557 6.6915 5.0557 6.97097 5.20731C7.25045 5.3591 7.42242 5.63921 7.42242 5.94262V6.50855C7.42242 6.81195 7.25045 7.09227 6.97097 7.24387C6.69149 7.39547 6.34732 7.39547 6.06785 7.24387C5.78858 7.09227 5.6164 6.81196 5.6164 6.50855V5.94262Z" fill="#1E415F"/>
                    </svg>
                    <div>
                        <p>Congratulations! You get</p>
                        <p>Free shipping in the USA</p>
                    </div>
                </div>
            </div>`)
            
        document.querySelector('.money-back_block p:last-child').innerHTML = pack == '1 Pack' ? 'No returns required — test as much as you want' : 'We offer hassle-free returns for unused strips';

        if (window.matchMedia("(max-width: 1000px)").matches) {
            document.querySelector('.banner .logo.logo--left').after(document.querySelector('.messages'))
        } else {
            document.querySelector('.main__header .logo.logo--left').after(document.querySelector('.messages'))
        }
        
    }
});
